<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<!--
    FS25_UsedPlus - Unified Land Purchase Dialog

    Single dialog for all farmland purchase modes (Cash, Finance, Lease)
    No trade-in for land purchases.

    Updated: Dark section backgrounds with gold headers matching UnifiedPurchaseDialog style.
-->
<GUI onOpen="onOpen" onClose="onClose" onCreate="onCreate">
    <GuiElement profile="newLayer" />
    <Bitmap profile="dialogFullscreenBg" id="dialogBg" />

    <GuiElement profile="dialogBg" id="dialogElement" size="720px 720px">
        <ThreePartBitmap profile="fs25_dialogBgMiddle" />
        <ThreePartBitmap profile="fs25_dialogBgTop" />
        <ThreePartBitmap profile="fs25_dialogBgBottom" />

        <GuiElement profile="fs25_dialogContentContainer">

            <!-- Title -->
            <Text profile="fs25_dialogTitle" id="dialogTitleElement" position="0px -25px" text="$l10n_usedplus_land_title"/>

            <!-- ========== SECTION 1: Land Details ========== -->
            <!-- Two-column layout: Field info left, Price breakdown right -->
            <GuiElement profile="lpLandSection" position="0px -55px">
                <Bitmap profile="lpLandSectionBg" position="0px 0px"/>
                <Text profile="lpSectionHeader" position="0px -5px" text="$l10n_usedplus_lp_sectionDetails"/>

                <!-- Left Column: Field Info -->
                <GuiElement profile="lpColumn" position="-170px -28px">
                    <Text profile="lpDetailLabel" position="0px 0px" text="$l10n_usedplus_lp_field"/>
                    <Text profile="lpLandName" id="landNameText" position="0px -16px" text=""/>

                    <Text profile="lpDetailLabel" position="0px -40px" text="$l10n_usedplus_lp_size"/>
                    <Text profile="lpLandSize" id="landSizeText" position="0px -56px" text=""/>

                    <Text profile="lpDetailLabel" position="0px -80px" text="$l10n_usedplus_lp_perHa"/>
                    <Text profile="lpPricePerHa" id="landPricePerHaText" position="0px -96px" text=""/>
                </GuiElement>

                <!-- Right Column: Price Breakdown -->
                <GuiElement profile="lpColumn" position="130px -28px">
                    <Text profile="lpDetailLabel" position="0px 0px" text="$l10n_usedplus_lp_basePrice"/>
                    <Text profile="lpBasePrice" id="basePriceText" position="0px -16px" text=""/>

                    <Text profile="lpDetailLabel" position="0px -40px" text="$l10n_usedplus_lp_creditAdjust"/>
                    <Text profile="lpCreditAdjust" id="creditAdjustmentText" position="0px -56px" text=""/>

                    <Text profile="lpDetailLabel" position="0px -80px" text="$l10n_usedplus_lp_yourPrice"/>
                    <Text profile="lpYourPrice" id="landPriceText" position="0px -96px" text=""/>
                </GuiElement>
            </GuiElement>

            <!-- ========== SECTION 2: Purchase Mode Selector ========== -->
            <!-- 10px gap after Land Details (130px) = -55 - 130 - 10 = -195 -->
            <GuiElement profile="lpModeSection" position="0px -195px">
                <Bitmap profile="lpModeSectionBg" position="0px 0px"/>
                <Text profile="lpSectionHeader" position="0px -5px" text="$l10n_usedplus_land_purchaseMethod"/>
                <Text profile="lpHelpText" id="modeHelpText" position="0px -23px" text="$l10n_usedplus_lp_methodHelp"/>
                <MultiTextOption profile="lpModeSelector" id="modeSelector" position="0px -45px" onClick="onModeChanged"/>
            </GuiElement>

            <!-- ========== SECTION 3A: Cash Mode ========== -->
            <!-- 10px gap after Mode Section (85px) = -195 - 85 - 10 = -290 -->
            <GuiElement profile="lpPaymentSection" id="cashSection" position="0px -290px" visible="true">
                <Bitmap profile="lpPaymentSectionBg" position="0px 0px"/>
                <Text profile="lpSectionHeader" position="0px -5px" text="$l10n_usedplus_land_paymentSummary"/>
                <Text profile="lpHelpText" id="cashHelpText" position="0px -23px" text="$l10n_usedplus_lp_cashHelp"/>

                <!-- Centered payment summary -->
                <Text profile="lpPaymentLabel" position="-80px -50px" text="$l10n_usedplus_land_landPrice"/>
                <Text profile="lpPaymentValue" id="cashPriceText" position="80px -50px" text=""/>

                <Text profile="lpPaymentLabel" position="-80px -75px" text="$l10n_usedplus_land_taxes"/>
                <Text profile="lpPaymentValue" id="cashTaxText" position="80px -75px" text=""/>

                <Bitmap profile="lpDivider" position="0px -100px"/>

                <Text profile="lpTotalLabel" position="-80px -115px" text="$l10n_usedplus_land_totalDue"/>
                <Text profile="lpTotalValue" id="cashTotalText" position="80px -115px" text=""/>
            </GuiElement>

            <!-- ========== SECTION 3B: Finance Mode ========== -->
            <GuiElement profile="lpPaymentSectionLarge" id="financeSection" position="0px -290px" visible="false">
                <Bitmap profile="lpPaymentSectionLargeBg" position="0px 0px"/>
                <Text profile="lpSectionHeader" position="0px -5px" text="$l10n_usedplus_land_financeTerms"/>
                <Text profile="lpHelpText" id="financeHelpText" position="0px -23px" text="$l10n_usedplus_lp_financeHelp"/>

                <!-- Configuration Row: Term and Down Payment -->
                <Text profile="lpPaymentLabel" position="-170px -48px" text="$l10n_usedplus_land_loanTerm"/>
                <MultiTextOption profile="lpFinanceOption" id="financeTermSlider" position="-170px -68px" onClick="onFinanceTermChanged"/>

                <Text profile="lpPaymentLabel" position="70px -48px" text="$l10n_usedplus_land_downPayment"/>
                <MultiTextOption profile="lpFinanceOption" id="financeDownSlider" position="70px -68px" onClick="onFinanceDownChanged"/>

                <!-- Finance Details - 3 columns -->
                <Text profile="lpPaymentLabel" position="-230px -110px" text="$l10n_usedplus_land_amountFinanced"/>
                <Text profile="lpPaymentValue" id="financeAmountText" position="-230px -128px" text=""/>

                <Text profile="lpPaymentLabel" position="-230px -155px" text="$l10n_usedplus_land_interestRate"/>
                <Text profile="lpInterestRate" id="financeRateText" position="-230px -173px" text=""/>

                <Text profile="lpPaymentLabel" position="-20px -110px" text="$l10n_usedplus_land_monthlyPayment"/>
                <Text profile="lpMonthlyValue" id="financeMonthlyText" position="-20px -128px" text=""/>

                <Text profile="lpPaymentLabel" position="-20px -155px" text="$l10n_usedplus_land_totalInterest"/>
                <Text profile="lpInterestCost" id="financeTotalInterestText" position="-20px -173px" text=""/>

                <Text profile="lpTotalLabel" position="190px -110px" text="$l10n_usedplus_land_dueToday"/>
                <Text profile="lpTotalValue" id="financeDueTodayText" position="190px -133px" text=""/>

                <Text profile="lpCreditNote" id="financeCreditText" position="190px -165px" text=""/>
            </GuiElement>

            <!-- ========== SECTION 3C: Lease Mode ========== -->
            <GuiElement profile="lpPaymentSectionLarge" id="leaseSection" position="0px -290px" visible="false">
                <Bitmap profile="lpPaymentSectionLargeBg" position="0px 0px"/>
                <Text profile="lpSectionHeader" position="0px -5px" text="$l10n_usedplus_land_leaseTerms"/>
                <Text profile="lpHelpText" id="leaseHelpText" position="0px -23px" text="$l10n_usedplus_lp_leaseHelp"/>

                <!-- Configuration Row: Lease Term -->
                <Text profile="lpPaymentLabel" position="0px -48px" text="$l10n_usedplus_lp_leaseTerm"/>
                <MultiTextOption profile="lpFinanceOption" id="leaseTermSlider" position="0px -68px" onClick="onLeaseTermChanged"/>

                <!-- Lease Details - 3 columns -->
                <Text profile="lpPaymentLabel" position="-230px -110px" text="$l10n_usedplus_lp_monthlyPayment"/>
                <Text profile="lpMonthlyValue" id="leaseMonthlyText" position="-230px -128px" text=""/>

                <Text profile="lpPaymentLabel" position="-230px -155px" text="$l10n_usedplus_lp_annualCost"/>
                <Text profile="lpPaymentValue" id="leaseAnnualText" position="-230px -173px" text=""/>

                <Text profile="lpPaymentLabel" position="-20px -110px" text="$l10n_usedplus_lp_rateCalc"/>
                <Text profile="lpRateCalc" id="leaseRateText" position="-20px -128px" text=""/>

                <Text profile="lpPaymentLabel" position="-20px -155px" text="$l10n_usedplus_lp_securityDeposit"/>
                <Text profile="lpPaymentValue" id="leaseDepositText" position="-20px -173px" text=""/>

                <Text profile="lpTotalLabel" position="190px -110px" text="$l10n_usedplus_lp_dueToday"/>
                <Text profile="lpTotalValue" id="leaseDueTodayText" position="190px -133px" text=""/>

                <Text profile="lpCreditNote" id="leaseCreditText" position="190px -165px" text=""/>

                <!-- Buyout info and signing bonus at bottom -->
                <Text profile="lpBuyoutInfo" id="leaseBuyoutText" position="0px -200px" text=""/>

                <!-- Signing bonus section (shown for 12+ month leases with standing crops) -->
                <GuiElement id="signingBonusSection" position="0px -215px" visible="false">
                    <Text profile="lpSigningBonus" id="signingBonusText" position="0px 0px" text=""/>
                </GuiElement>
            </GuiElement>

        </GuiElement>

        <!-- Buttons -->
        <BoxLayout profile="fs25_dialogButtonBox">
            <Button profile="buttonOK" id="confirmButton" text="$l10n_usedplus_land_confirm" onClick="onConfirmPurchase"/>
            <Bitmap profile="fs25_dialogButtonBoxSeparator"/>
            <Button profile="buttonBack" id="cancelButton" text="$l10n_button_cancel" onClick="onCancel"/>
        </BoxLayout>

    </GuiElement>

    <!-- ========== PROFILES ========== -->
    <GUIProfiles>
        <!-- ========== SECTION CONTAINERS ========== -->
        <Profile name="lpLandSection" extends="emptyPanel" with="anchorTopCenter">
            <size value="680px 130px"/>
        </Profile>

        <Profile name="lpModeSection" extends="emptyPanel" with="anchorTopCenter">
            <size value="680px 85px"/>
        </Profile>

        <Profile name="lpPaymentSection" extends="emptyPanel" with="anchorTopCenter">
            <size value="680px 145px"/>
        </Profile>

        <Profile name="lpPaymentSectionLarge" extends="emptyPanel" with="anchorTopCenter">
            <size value="680px 240px"/>
        </Profile>

        <!-- ========== SECTION BACKGROUNDS ========== -->
        <!-- Land details: dark blue-tinted background -->
        <Profile name="lpLandSectionBg" extends="baseReference" with="anchorTopCenter">
            <size value="680px 130px"/>
            <imageColor value="0.08 0.1 0.12 0.9"/>
        </Profile>

        <!-- Mode selector: slightly lighter -->
        <Profile name="lpModeSectionBg" extends="baseReference" with="anchorTopCenter">
            <size value="680px 85px"/>
            <imageColor value="0.08 0.08 0.1 0.9"/>
        </Profile>

        <!-- Payment sections: warm gold-tinted background -->
        <Profile name="lpPaymentSectionBg" extends="baseReference" with="anchorTopCenter">
            <size value="680px 145px"/>
            <imageColor value="0.12 0.1 0.06 0.9"/>
        </Profile>

        <Profile name="lpPaymentSectionLargeBg" extends="baseReference" with="anchorTopCenter">
            <size value="680px 240px"/>
            <imageColor value="0.12 0.1 0.06 0.9"/>
        </Profile>

        <!-- ========== SECTION HEADER ========== -->
        <Profile name="lpSectionHeader" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="660px 20px"/>
            <textSize value="14px"/>
            <textBold value="true"/>
            <textColor value="1 0.8 0.2 1"/>
            <textAlignment value="center"/>
        </Profile>

        <!-- ========== HELP TEXT ========== -->
        <Profile name="lpHelpText" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="640px 18px"/>
            <textSize value="11px"/>
            <textColor value="0.55 0.55 0.55 1"/>
            <textAlignment value="center"/>
        </Profile>

        <!-- ========== COLUMN CONTAINER ========== -->
        <Profile name="lpColumn" extends="emptyPanel" with="anchorTopCenter">
            <size value="280px 100px"/>
        </Profile>

        <!-- ========== LAND DETAILS ========== -->
        <!-- NOTE: All profiles use anchorTopCenter per CLAUDE.md - anchorTopLeft causes misalignment -->
        <Profile name="lpDetailLabel" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="200px 16px"/>
            <textSize value="12px"/>
            <textColor value="0.6 0.6 0.6 1"/>
        </Profile>

        <Profile name="lpLandName" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="250px 22px"/>
            <textSize value="18px"/>
            <textBold value="true"/>
        </Profile>

        <Profile name="lpLandSize" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="200px 18px"/>
            <textSize value="14px"/>
            <textColor value="0.8 0.8 0.8 1"/>
        </Profile>

        <Profile name="lpPricePerHa" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="200px 16px"/>
            <textSize value="13px"/>
            <textColor value="0.7 0.7 0.7 1"/>
        </Profile>

        <Profile name="lpBasePrice" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="200px 18px"/>
            <textSize value="14px"/>
            <textColor value="0.8 0.8 0.8 1"/>
        </Profile>

        <Profile name="lpCreditAdjust" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="200px 18px"/>
            <textSize value="13px"/>
            <textBold value="true"/>
            <!-- Color set dynamically via Lua based on adjustment direction -->
        </Profile>

        <Profile name="lpYourPrice" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="200px 22px"/>
            <textSize value="16px"/>
            <textBold value="true"/>
            <textColor value="0.3 1 0.3 1"/>
        </Profile>

        <!-- ========== MODE SELECTOR ========== -->
        <Profile name="lpModeSelector" extends="fs25_multiTextOption" with="anchorTopCenter">
            <size value="450px 32px"/>
        </Profile>

        <!-- ========== PAYMENT DETAILS ========== -->
        <Profile name="lpPaymentLabel" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="150px 16px"/>
            <textSize value="12px"/>
            <textColor value="0.6 0.6 0.6 1"/>
        </Profile>

        <Profile name="lpPaymentValue" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="150px 18px"/>
            <textSize value="14px"/>
            <textBold value="true"/>
        </Profile>

        <Profile name="lpFinanceOption" extends="fs25_multiTextOption" with="anchorTopCenter">
            <size value="220px 32px"/>
        </Profile>

        <!-- ========== TOTALS ========== -->
        <Profile name="lpTotalLabel" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="150px 20px"/>
            <textSize value="14px"/>
            <textBold value="true"/>
            <textColor value="1 0.85 0.2 1"/>
        </Profile>

        <Profile name="lpTotalValue" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="180px 24px"/>
            <textSize value="18px"/>
            <textBold value="true"/>
            <textColor value="0.3 1 0.3 1"/>
        </Profile>

        <Profile name="lpMonthlyValue" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="150px 20px"/>
            <textSize value="15px"/>
            <textBold value="true"/>
            <textColor value="1 0.85 0.2 1"/>
        </Profile>

        <Profile name="lpInterestRate" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="150px 18px"/>
            <textSize value="13px"/>
            <textBold value="true"/>
            <textColor value="1 0.6 0.2 1"/>
        </Profile>

        <Profile name="lpInterestCost" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="150px 18px"/>
            <textSize value="13px"/>
            <textBold value="true"/>
            <textColor value="1 0.5 0.4 1"/>
        </Profile>

        <Profile name="lpRateCalc" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="200px 16px"/>
            <textSize value="11px"/>
            <textColor value="0.8 0.8 0.6 1"/>
        </Profile>

        <Profile name="lpCreditNote" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="180px 16px"/>
            <textSize value="11px"/>
            <textColor value="0.5 0.8 0.5 1"/>
        </Profile>

        <!-- ========== LEASE EXTRAS ========== -->
        <Profile name="lpBuyoutInfo" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="640px 16px"/>
            <textSize value="12px"/>
            <textColor value="0.6 0.8 0.6 1"/>
            <textAlignment value="center"/>
        </Profile>

        <Profile name="lpSigningBonus" extends="fs25_textDefault" with="anchorTopCenter">
            <size value="640px 16px"/>
            <textSize value="12px"/>
            <textBold value="true"/>
            <textColor value="0.9 0.8 0.3 1"/>
            <textAlignment value="center"/>
        </Profile>

        <!-- ========== DIVIDER ========== -->
        <Profile name="lpDivider" extends="baseReference" with="anchorTopCenter">
            <size value="280px 2px"/>
            <imageColor value="0.4 0.4 0.4 1"/>
        </Profile>
    </GUIProfiles>
</GUI>
